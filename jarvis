#!/bin/bash
# JARVIS-X Linux/macOS ishga tushiruvchi
set -e
cd "$(dirname "$0")"

VENV_DIR="runtime/venv"

# Python3 mavjudligini tekshirish
if ! command -v python3 &> /dev/null; then
    echo "❌ Xato: python3 topilmadi."
    echo "   Python 3.10+ o'rnating: https://www.python.org/downloads/"
    exit 1
fi

if [ ! -d "$VENV_DIR" ] || [ ! -f "$VENV_DIR/bin/python" ]; then
    echo "⚠️  Virtual muhit topilmadi. Avval sozlashni ishga tushiring:"
    echo "   python3 setup.py"
    exit 1
fi

source "$VENV_DIR/bin/activate"

python start.py "$@"
